<%= render partial: 'snippets/snippet', locals: { snippet: @snippet } %>

<div data-controller="comments" >
  <%= render 'shared/cards/card_no_padding' do %>
      <ul data-comments-target="entries" class="divide-y divide-gray-200 <%= @snippet.comments.any? ? '' : 'hidden' %>">
        <% @snippet.comments.each do |comment| %>
          <%= render partial: 'comments/comment', locals: { comment: comment } %>
        <% end %>
      </ul>
  <% end %>

  <% if user_signed_in? %>
    <%= render partial: 'comments/new', locals: { snippet: @snippet, comment: @comment } %>
  <% else %>
    <div class="card--container card--container-padding text-center margin-top">
      <span>Please <%= link_to('sign in', new_user_session_path, class: "color-primary normal") %> to join the discussion.</span>
    </div>
  <% end %>
</div>
