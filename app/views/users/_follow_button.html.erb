<div
  data-controller="follow"
  data-follow-target="container"
  data-follow-id-value="<%= user.id %>"
>
  <% if user_signed_in? && current_user == user %>
    <%# Don't display anything if the current user is the same as the user being viewed %>
  <% elsif user_signed_in? %>
    <% if current_user.following?(user) %>
      <%= button_tag 'Following', data: { action: 'click->follow#unfollow' }, class: "button--cta-primary mt-2 flex w-full justify-center" %>
    <% else %>
      <%= button_tag 'Follow', data: { action: 'click->follow#follow' }, class: "button--cta-tertiary mt-2 flex w-full justify-center" %>
    <% end %>
  <% else %>
    <%= button_to 'Follow', new_user_registration_path, method: :get, class: "button--cta-tertiary mt-2 flex w-full justify-center" %>
  <% end %>
</div>
